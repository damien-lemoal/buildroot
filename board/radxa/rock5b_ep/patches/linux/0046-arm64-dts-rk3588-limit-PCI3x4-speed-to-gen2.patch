From cfd8c4e87a41c90ed0a27a536006ec366cded0df Mon Sep 17 00:00:00 2001
From: Damien Le Moal <dlemoal@kernel.org>
Date: Thu, 21 Dec 2023 11:36:14 +0900
Subject: [PATCH 46/50] arm64: dts: rk3588: limit PCI3x4 speed to gen2

Signed-off-by: Damien Le Moal <dlemoal@kernel.org>
---
 arch/arm64/boot/dts/rockchip/rk3588.dtsi | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/boot/dts/rockchip/rk3588.dtsi b/arch/arm64/boot/dts/rockchip/rk3588.dtsi
index 88b0bcfab186..41d43f07fc0f 100644
--- a/arch/arm64/boot/dts/rockchip/rk3588.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3588.dtsi
@@ -115,7 +115,7 @@ pcie3x4: pcie@fe150000 {
 				<0 0 0 3 &pcie3x4_intc 2>,
 				<0 0 0 4 &pcie3x4_intc 3>;
 		linux,pci-domain = <0>;
-		max-link-speed = <3>;
+		max-link-speed = <2>;
 		msi-map = <0x0000 &its1 0x0000 0x1000>;
 		num-lanes = <4>;
 		phys = <&pcie30phy>;
@@ -160,7 +160,7 @@ pcie3x4_ep: pcie_ep@fe150000 {
 			     <GIC_SPI 270 IRQ_TYPE_LEVEL_HIGH 0>;
 		interrupt-names = "sys", "pmc", "msg", "err",
 				  "dma0", "dma1", "dma2", "dma3";
-		max-link-speed = <3>;
+		max-link-speed = <2>;
 		num-lanes = <4>;
 		phys = <&pcie30phy>;
 		phy-names = "pcie-phy";
-- 
2.43.0

