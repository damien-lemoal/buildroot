From 2f52a972cf41d7ca975b39fc0f30777a641cbdb7 Mon Sep 17 00:00:00 2001
From: Damien Le Moal <damien.lemoal@wdc.com>
Date: Tue, 1 Jun 2021 16:14:58 +0900
Subject: [PATCH] fix terminal setting

Avoid empty lines (double carriage return).

Signed-off-by: Damien Le Moal <damien.lemoal@wdc.com>
---
 kflash.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/kflash.py b/kflash.py
index b1fe4fc..c5697bd 100755
--- a/kflash.py
+++ b/kflash.py
@@ -1166,7 +1166,7 @@ class KFlash:
             import serial.tools.miniterm
             # For using the terminal with MaixPy the 'filter' option must be set to 'direct'
             # because some control characters are emited
-            sys.argv = [sys.argv[0], _port, '115200', '--dtr='+control_signal, '--rts='+control_signal,  '--filter=direct']
+            sys.argv = [sys.argv[0], _port, '115200', '--dtr='+control_signal, '--rts='+control_signal,  '--filter=direct', '--eol=lf']
             serial.tools.miniterm.main(default_port=_port, default_baudrate=115200, default_dtr=control_signal_b, default_rts=control_signal_b)
             sys.exit(0)
 
-- 
2.35.1

